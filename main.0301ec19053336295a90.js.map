{"version":3,"sources":["webpack:///./index.js","webpack:///./API/fetchCountries.js.js","webpack:///./components/tableComponent.js","webpack:///./components/mainCard.js"],"names":["inputRef","document","querySelector","root","addEventListener","debounce","e","name","target","value","trim","length","fetch","then","res","json","status","Error","data","message","fetchCountries","innerHTML","Swal","Array","isArray","ul","map","item","join","insertAdjacentHTML","tableComponent","languages","population","capital","flag","console","log","JSON","stringify","div","mainCard","catch","icon","title","text"],"mappings":"oNAQMA,G,8BAAWC,SAASC,cAAc,YAClCC,EAAOF,SAASC,cAAc,SAmCpCF,EAASI,iBAAiB,QAASC,KAhCb,SAACC,GACrB,IAAIC,EAAOD,EAAEE,OAAOC,MAAMC,OACN,IAAhBH,EAAKI,QCVmB,SAACJ,GAE9B,OAAOK,MAAM,yCAAyCL,GAClDM,MAAK,SAAAC,GAAG,OAAGA,EAAIC,UAChBF,MAAK,SAAAC,GACJ,GAAIA,EAAIE,OAAS,IACf,MAAM,IAAIC,MAAMC,KAAKC,SAAW,mBAGnC,OAAOL,KDGTM,CAAeb,GACZM,MAAK,SAAAC,GACJX,EAAKkB,UAAY,GAEbP,EAAIH,OAAS,GACfW,OAAA,cAAwBR,EAAIH,OAA5B,4CAGEG,EAAIH,OAAS,GEtBO,SAACO,EAAMf,GAEnC,GAAKoB,MAAMC,QAAQN,GAAnB,CAEA,IACMO,EAAK,4BADMP,EAAKQ,KAAI,SAAAC,GAAI,aAAWA,EAAKpB,KAAhB,WAA6BqB,KAAK,IACxD,gDAORzB,EAAK0B,mBAAmB,YAAaJ,IFW/BK,CAAehB,EAAKX,GAEH,IAAfW,EAAIH,QGzBU,SAACO,EAAMf,GAAS,IAC/BI,EAA8CW,EAA9CX,KAAMwB,EAAwCb,EAAxCa,UAAWC,EAA6Bd,EAA7Bc,WAAYC,EAAiBf,EAAjBe,QAASC,EAAQhB,EAARgB,KAE/CC,QAAQC,IAAIC,KAAKC,UAAUpB,EAAM,KAAM,IAErC,IAGMqB,EAAM,kCACYhC,EADf,6IAKyC0B,EALzC,sEAM4CD,EAN5C,yGAHID,EAAUL,KAAI,SAAAC,GAAI,aAAWA,EAAKpB,KAAhB,WAA6BqB,KAAK,KAGxD,0FAUmCM,EAVnC,sFAcT/B,EAAK0B,mBAAmB,YAAaU,GHI/BC,CAAS,OAAD,UAAM1B,EAAI,IAAKX,OAG1BsC,OAAM,SAAAnC,GACa,iCAAdA,EAAEa,SAGNG,OAAU,CACRoB,KAAM,QACNC,MAAO,UACPC,KAAMtC,EAAEa,eAM2C,Q","file":"main.0301ec19053336295a90.js","sourcesContent":["import './styles.scss';\nimport debounce from 'lodash/debounce';\nimport { fetchCountries } from './API/fetchCountries.js';\nimport * as Swal from 'sweetalert2';\nimport { tableComponent } from './components/tableComponent';\nimport { mainCard } from './components/mainCard';\n\n\nconst inputRef = document.querySelector('#search');\nconst root = document.querySelector('#root');\n\n\nconst onInputChange = (e) => {\n  let name = e.target.value.trim();\n  if (name.length === 0) return;\n\n  fetchCountries(name)\n    .then(res => {\n      root.innerHTML = '';\n\n      if (res.length > 10){\n        Swal.fire(`You have - ${res.length} matches. Narrow your search up to 10 !`)\n        return\n      }\n      if (res.length > 1) {\n        tableComponent(res, root);\n      }\n      if (res.length === 1) {\n        mainCard({ ...res[0]}, root);\n      }\n    })\n    .catch(e => {\n      if (e.message === 'Unexpected end of JSON input') {\n        return;\n      }\n      Swal.fire({\n        icon: 'error',\n        title: 'Oops...',\n        text: e.message,\n      });\n\n    });\n\n};\ninputRef.addEventListener('input', debounce(onInputChange, 500));\n\n","\n\n\n\nexport const fetchCountries = (name) => {\n\n return fetch(`https://restcountries.eu/rest/v2/name/${name}`)\n    .then(res =>res.json())\n   .then(res => {\n     if (res.status > 400) {\n       throw new Error(data.message || 'Something wrong')\n     }\n\n    return res\n   })\n}\n","\n\nexport const tableComponent = (data, root) => {\n\n  if (!Array.isArray(data)) return\n\n  const element  = data.map(item => `<li>${item.name}</li>`).join('')\n  const ul = `<ul>\n                   ${element}\n              </ul>\n\n\n                  `\n\n  root.insertAdjacentHTML('beforeend', ul)\n\n}\n","\n\nexport const mainCard = (data, root) => {\n  const {name, languages, population, capital, flag} = data\n\nconsole.log(JSON.stringify(data, null, 2))\n\n  const lang = languages.map(item => `<li>${item.name}</li>`).join(' ')\n\n\n  const div = `<div>\n                    <h2>${name}</h2>\n\n                    <div class=\"mainCard\">\n                            <div>\n                                <p>Capital: <span>${capital}</span> </p>\n                                <p>Population: <span>${population}</span> </p>\n                                <p>Languages:</p>\n                                 <ul>${lang}</ul>\n                            </div>\n                             <div><img src=\"${flag}\" alt=\"flad\" width=\"200\"></div>\n                    </div>\n                </div>`\n\n  root.insertAdjacentHTML('beforeend', div)\n\n}\n"],"sourceRoot":""}