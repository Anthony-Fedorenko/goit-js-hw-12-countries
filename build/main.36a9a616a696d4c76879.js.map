{"version":3,"sources":["webpack:///./index.js","webpack:///./API/fetchCountries.js.js","webpack:///./components/tableComponent.js","webpack:///./components/mainCard.js"],"names":["inputRef","document","querySelector","root","addEventListener","debounce","e","name","target","value","trim","length","fetch","then","res","json","status","Error","data","message","fetchCountries","console","log","innerHTML","Array","isArray","ul","map","item","join","insertAdjacentHTML","tableComponent","slice","languages","population","capital","flag","JSON","stringify","div","mainCard","catch","Swal","icon","title","text"],"mappings":"8NAQMA,G,8BAAWC,SAASC,cAAc,YAClCC,EAAOF,SAASC,cAAc,SAiCpCF,EAASI,iBAAiB,QAASC,KA9Bb,SAACC,GACrB,IAAIC,EAAOD,EAAEE,OAAOC,MAAMC,OACN,IAAhBH,EAAKI,QCVmB,SAACJ,GAE9B,OAAOK,MAAM,yCAAyCL,GAClDM,MAAK,SAAAC,GAAG,OAAGA,EAAIC,UAChBF,MAAK,SAAAC,GACJ,GAAIA,EAAIE,OAAS,IACf,MAAM,IAAIC,MAAMC,KAAKC,SAAW,mBAGnC,OAAOL,KDGTM,CAAeb,GACZM,MAAK,SAAAC,GACJO,QAAQC,IAAIR,GACZX,EAAKoB,UAAY,GACbT,EAAIH,OAAS,GElBO,SAACO,EAAMf,GAEnC,GAAKqB,MAAMC,QAAQP,GAAnB,CAEA,IACMQ,EAAK,4BADMR,EAAKS,KAAI,SAAAC,GAAI,aAAWA,EAAKrB,KAAhB,WAA6BsB,KAAK,IACxD,gDAOR1B,EAAK2B,mBAAmB,YAAaJ,IFO/BK,CAAejB,EAAIkB,MAAM,EAAG,IAAK7B,GAEhB,IAAfW,EAAIH,QGrBU,SAACO,EAAMf,GAAS,IAC/BI,EAA8CW,EAA9CX,KAAM0B,EAAwCf,EAAxCe,UAAWC,EAA6BhB,EAA7BgB,WAAYC,EAAiBjB,EAAjBiB,QAASC,EAAQlB,EAARkB,KAE/Cf,QAAQC,IAAIe,KAAKC,UAAUpB,EAAM,KAAM,IAErC,IAGMqB,EAAM,kCACYhC,EADf,6IAKyC4B,EALzC,sEAM4CD,EAN5C,yGAHID,EAAUN,KAAI,SAAAC,GAAI,aAAWA,EAAKrB,KAAhB,WAA6BsB,KAAK,KAGxD,0FAUmCO,EAVnC,sFAcTjC,EAAK2B,mBAAmB,YAAaS,GHA/BC,CAAS,OAAD,UAAM1B,EAAI,IAAKX,MAK1BsC,OAAM,SAAAnC,GACa,iCAAdA,EAAEa,SAGNuB,OAAU,CACRC,KAAM,QACNC,MAAO,UACPC,KAAMvC,EAAEa,eAM2C,Q","file":"main.36a9a616a696d4c76879.js","sourcesContent":["import './styles.scss';\nimport debounce from 'lodash/debounce';\nimport { fetchCountries } from './API/fetchCountries.js';\nimport * as Swal from 'sweetalert2';\nimport { tableComponent } from './components/tableComponent';\nimport { mainCard } from './components/mainCard';\n\n\nconst inputRef = document.querySelector('#search');\nconst root = document.querySelector('#root');\n\n\nconst onInputChange = (e) => {\n  let name = e.target.value.trim();\n  if (name.length === 0) return;\n\n  fetchCountries(name)\n    .then(res => {\n      console.log(res);\n      root.innerHTML = '';\n      if (res.length > 1) {\n        tableComponent(res.slice(0, 10), root);\n      }\n      if (res.length === 1) {\n        mainCard({ ...res[0]}, root);\n      }\n\n\n    })\n    .catch(e => {\n      if (e.message === 'Unexpected end of JSON input') {\n        return;\n      }\n      Swal.fire({\n        icon: 'error',\n        title: 'Oops...',\n        text: e.message,\n      });\n\n    });\n\n};\ninputRef.addEventListener('input', debounce(onInputChange, 500));\n\n","\n\n\n\nexport const fetchCountries = (name) => {\n\n return fetch(`https://restcountries.eu/rest/v2/name/${name}`)\n    .then(res =>res.json())\n   .then(res => {\n     if (res.status > 400) {\n       throw new Error(data.message || 'Something wrong')\n     }\n\n    return res\n   })\n}\n","\n\nexport const tableComponent = (data, root) => {\n\n  if (!Array.isArray(data)) return\n\n  const element  = data.map(item => `<li>${item.name}</li>`).join('')\n  const ul = `<ul>\n                   ${element}\n              </ul>\n\n\n                  `\n\n  root.insertAdjacentHTML('beforeend', ul)\n\n}\n","\n\nexport const mainCard = (data, root) => {\n  const {name, languages, population, capital, flag} = data\n\nconsole.log(JSON.stringify(data, null, 2))\n\n  const lang = languages.map(item => `<li>${item.name}</li>`).join(' ')\n\n\n  const div = `<div>\n                    <h2>${name}</h2>\n\n                    <div class=\"mainCard\">\n                            <div>\n                                <p>Capital: <span>${capital}</span> </p>\n                                <p>Population: <span>${population}</span> </p>\n                                <p>Languages:</p>\n                                 <ul>${lang}</ul>\n                            </div>\n                             <div><img src=\"${flag}\" alt=\"flad\" width=\"200\"></div>\n                    </div>\n                </div>`\n\n  root.insertAdjacentHTML('beforeend', div)\n\n}\n"],"sourceRoot":""}